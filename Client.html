<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client</title>
    <link rel="stylesheet" href="Tailwind.css">
</head>
<body>
    <section class="container mx-3 my-3">
        <!-- Name and logo -->
        <header class="font-semibold text-3xl font-mono">
            <h1>Client...</h1>
        </header>

        <!-- main body of the projects -->
        <section>
            <div class="">
                <select id="ReqType" class="border border-black py-1">
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                    <option value="PUT">PUT</option>
                    <option value="DELETE">DELETE</option>
                </select>

                <input id="ReqUrl" placeholder="Enter url" class="border px-2 py-1 border-black w-2/4">

                <button id="sendBtn" class="bg-black text-white px-2 py-[5px]">Send</button>
            </div>
        </section>

        <div class="my-5">
            <textarea id="textarea" autocomplete="on" class="border border-black font-mono text-lg w-2/3 px-2 py-1 "  rows="7"></textarea>
        </div>

        <div id="data"></div>

    </section>

    <script>
        let ReqType = document.querySelector("#ReqType");
        let ReqUrl = document.querySelector("#ReqUrl");
        let sendBtn = document.querySelector("#sendBtn");
        let data = document.querySelector('#data');

        let textarea = document.querySelector("#textarea");

        sendBtn.addEventListener('click', () => {
            const url = ReqUrl.value;

            if(ReqType.value == 'GET') {
                fetch(url)
                    .then(response => response.json())
                    .then(result => {
                        console.log(result);
                        result.forEach(element => {
                            let p = document.createElement("p");
                            let ptext = document.createTextNode(element.title);
                            p.appendChild(ptext);
                            data.appendChild(p);
                        })
                    })
            }

            else if (ReqType.value == 'POST') {
                fetch(url, {
                    method: 'POST',
                    body: JSON.stringify(textarea.value)
                })
                .then(response => response.json())
                .then(result => console.log(result))
            }
        })
    </script>

</body>
</html>